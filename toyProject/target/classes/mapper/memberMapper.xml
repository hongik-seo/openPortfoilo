<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.or.aci.mapper.memberMapper">

	<insert id="joinInsert" parameterType="JoinDTO">
	
		
	insert into 
	 member 
		(joinName, joinId , joinPassword , joinPasswordConfirm , joinBirthday , joinPhoneNumber , joinZipCode , joinAddress , joinAddressDetail , joinAddressAppendix , joinNewsletter , joinUseYN , joinEmail )
	values
		(#{joinName}, #{joinId}, #{joinPassword} , #{joinPasswordConfirm} , #{joinBirthday} , #{joinPhoneNumber} , #{joinZipCode} , #{joinAddress} , #{joinAddressDetail} , #{joinAddressAppendix} , #{joinNewsletter} , #{joinUseYN} , #{joinEmail}  )	
			
	
			
	</insert>


	<select id="loginSelect" resultType="JoinDTO" parameterType="java.util.HashMap">
	
	
	 SELECT * From member where joinId=#{id} AND joinPassword=#{pwd} 
	
	
	</select>
	
	<select id="myPageSelect" resultType="JoinDTO" parameterType="int">
	
	
	 SELECT joinName,joinId, joinBirthday, joinPhoneNumber,joinZipCode ,joinAddress ,joinAddressDetail ,joinAddressAppendix ,joinNewsletter ,
	 
	REGEXP_REPLACE(joinPassword,'[0-9]','*') as joinPassword , joinEmail   From member where id=#{id} 
	
	
	</select>
	
	
	
	
	
	
	

</mapper>